!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=function(t,e,i){for(var r=!0;r;){var n=t,o=e,s=i;a=u=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(n,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,i=s,r=!0}},a=i(2),l=i(3),u=i(4),h=i(12),c=function(t){function e(){for(var t=arguments.length,i=Array(t),n=0;t>n;n++)i[n]=arguments[n];r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,i),this.provider="Google Map"}return n(e,t),o(e,[{key:"render",value:function(){var t=this,e=i(10),r=i(11),n=new google.maps.Map(this.domElement,this.options.map),o=new google.maps.LatLngBounds,s=void 0,a=[];this.options.infoWindow.active&&(s=new e(this.options.infoWindow)),this.points.forEach(function(e){var i=new r(n,e,t.options.marker);o.extend(i.position),a.push(i),t.options.infoWindow.active&&google.maps.event.addListener(i,"click",function(){s.setContent(t.options.infoWindow.content),s.open(n,i)})}),n.fitBounds(o),this.options.markerCluster.active&&new h(n,a,this.options.markerCluster)}},{key:"load",value:function(t,e){window._googleMapCallbackOnLoad=function(){delete window._googleMapCallbackOnLoad,t()},e&&(window._googleMapCallbackOnLoad=u.addLoader(this.domElement,e,window._googleMapCallbackOnLoad)),l.addScript(this.domElement,"https://maps.googleapis.com/maps/api/js?v=3.exp&callback=_googleMapCallbackOnLoad&key="+this.apiKey)}}]),e}(a);window.Map=c},function(t,e,i){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter(function(e){return o.call(t,e)})}var o=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var i,o,s=r(t),a=1;a<arguments.length;a++){i=arguments[a],o=n(Object(i));for(var l=0;l<o.length;l++)s[o[l]]=i[o[l]]}return s}},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();i(8);var o=i(1),s=function(){function t(e,i,n){r(this,t),this.domElement=e,this.apiKey=i,this.setOptions(n),this.provider="[No provider defined]"}return n(t,[{key:"setPoints",value:function(t){this.points=t}},{key:"setOptions",value:function(t){var e={map:{},marker:{},markerCluster:{},infoWindow:{}};this.options=o(e,t)}},{key:"render",value:function(){console.error(this.provider+" has no render method implemented")}},{key:"load",value:function(){console.error(this.provider+" has no load method implemented")}}]),t}();t.exports=s},function(t,e,i){"use strict";t.exports={addScript:function(t,e){t.appendChild(this.createScript(e))},addStyle:function(t,e){t.appendChild(this.createStyle(e))},addResources:function(t,e,i){var r=0;e.forEach(function(n){n.addEventListener("load",function(){r++,r===e.length&&i()},!1),t.appendChild(n)})},createScript:function(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.async=!0,e},createStyle:function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}}},function(t,e,i){"use strict";var r="one-map-to-rule-them-all__spinner";t.exports={addLoader:function(t,e,i){var n=document.createElement("div");return"string"==typeof e?n.className=e:n.className=r,t.appendChild(n),function(){t.removeChild(n),i()}}}},function(t,e,i){e=t.exports=i(6)(),e.push([t.id,".one-map-to-rule-them-all__spinner{position:absolute;top:0;right:0;bottom:0;left:0;content:'';width:50px;height:50px;margin:auto;padding:50px 0 0 50px;background-color:#333;border-radius:100%;animation:scaleout 1s infinite ease-in-out}@keyframes scaleout{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}",""])},function(t,e,i){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<e.length;n++){var s=e[n];"number"==typeof s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e,i){function r(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=c[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(a(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(a(r.parts[o],e));c[r.id]={id:r.id,refs:1,parts:s}}}}function n(t){for(var e=[],i={},r=0;r<t.length;r++){var n=t[r],o=n[0],s=n[1],a=n[2],l=n[3],u={css:s,media:a,sourceMap:l};i[o]?i[o].parts.push(u):e.push(i[o]={id:o,parts:[u]})}return e}function o(){var t=document.createElement("style"),e=d();return t.type="text/css",e.appendChild(t),t}function s(){var t=document.createElement("link"),e=d();return t.rel="stylesheet",e.appendChild(t),t}function a(t,e){var i,r,n;if(e.singleton){var a=_++;i=f||(f=o()),r=l.bind(null,i,a,!1),n=l.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=s(),r=h.bind(null,i),n=function(){i.parentNode.removeChild(i),i.href&&URL.revokeObjectURL(i.href)}):(i=o(),r=u.bind(null,i),n=function(){i.parentNode.removeChild(i)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}function l(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,n);else{var o=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function u(t,e){var i=e.css,r=e.media;e.sourceMap;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function h(t,e){var i=e.css,r=(e.media,e.sourceMap);r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(n),o&&URL.revokeObjectURL(o)}var c={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=p(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,_=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g());var i=n(t);return r(i,e),function(t){for(var o=[],s=0;s<i.length;s++){var a=i[s],l=c[a.id];l.refs--,o.push(l)}if(t){var u=n(t);r(u,e)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete c[l.id]}}}};var m=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var r=i(5);"string"==typeof r&&(r=[[t.id,r,""]]);i(7)(r,{});r.locals&&(t.exports=r.locals)},,function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function o(t){return"string"==typeof t?t:"function"==typeof t?t():void console.error("Info Window content must be a string or a function that return a string")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),a=function(t,e,i){for(var r=!0;r;){var n=t,o=e,s=i;a=u=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(n,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,i=s,r=!0}},l=i(1),u=function(t){function e(t){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l({},t,o(t.content)))}return n(e,t),s(e,[{key:"setContent",value:function(t){a(Object.getPrototypeOf(e.prototype),"setContent",this).call(this,o(t))}}]),e}(google.maps.InfoWindow);t.exports=u},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var o=function(t,e,i){for(var r=!0;r;){var n=t,o=e,s=i;a=u=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(n,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,i=s,r=!0}},s=i(1),a=function(t){function e(t,i,n){r(this,e);var a={position:new google.maps.LatLng(i.latitude,i.longitude),map:t};n&&s(a,n),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,a)}return n(e,t),e}(google.maps.Marker);t.exports=a},function(t,e,i){function r(t,e){t.getMarkerClusterer().extend(r,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function n(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.hideLabel_=t.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new r(this,t.getStyles())}function o(t,e,i){this.extend(o,google.maps.OverlayView),e=e||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,void 0!==i.averageCenter&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.hideLabel_=!1,void 0!==i.hideLabel&&(this.hideLabel_=i.hideLabel),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}r.prototype.onAdd=function(){var t,e,i=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),google.maps.event.addDomListener(this.div_,"click",function(r){if(t=!1,!e){var n,o,s=i.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",i.cluster_),google.maps.event.trigger(s,"clusterclick",i.cluster_),s.getZoomOnClick()&&(o=s.getMaxZoom(),n=i.cluster_.getBounds(),s.getMap().fitBounds(n),setTimeout(function(){s.getMap().fitBounds(n),null!==o&&s.getMap().getZoom()>o&&s.getMap().setZoom(o+1)},100)),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=i.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",i.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=i.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",i.cluster_)})},r.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},r.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},r.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),i=parseInt(e[0].trim(),10),r=parseInt(e[1].trim(),10),n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n),t="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+i+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*i+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*i+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},r.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var i=this.styles_[e];this.url_=i.url,this.height_=i.height,this.width_=i.width,this.anchorText_=i.anchorText||[0,0],this.anchorIcon_=i.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=i.textColor||"black",this.textSize_=i.textSize||11,this.textDecoration_=i.textDecoration||"none",this.fontWeight_=i.fontWeight||"bold",this.fontStyle_=i.fontStyle||"normal",this.fontFamily_=i.fontFamily||"Arial,sans-serif",this.backgroundPosition_=i.backgroundPosition||"0 0"},r.prototype.setCenter=function(t){this.center_=t},r.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.join("")},r.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},n.prototype.getSize=function(){return this.markers_.length},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getCenter=function(){return this.center_},n.prototype.getMap=function(){return this.map_},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_},n.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers();for(t=0;t<i.length;t++)e.extend(i[t].getPosition());return e},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},n.prototype.addMarker=function(t){var e,i,r;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var n=this.markers_.length+1,o=(this.center_.lat()*(n-1)+t.getPosition().lat())/n,s=(this.center_.lng()*(n-1)+t.getPosition().lng())/n;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),i=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),null!==r&&this.map_.getZoom()>r)t.getMap()!==this.map_&&t.setMap(this.map_);else if(i<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(i===this.minClusterSize_)for(e=0;i>e;e++)this.markers_[e].setMap(null);else t.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},n.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},n.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)return void this.clusterIcon_.hide();if(t<this.minClusterSize_)return void this.clusterIcon_.hide();var i=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()},n.prototype.isMarkerAlreadyAdded_=function(t){for(var e=0,i=this.markers_.length;i>e;e++)if(t===this.markers_[e])return!0;return!1},o.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){t.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},o.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var t,e;if(!(this.styles_.length>0))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},o.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),i=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)i.extend(e[t].getPosition());this.getMap().fitBounds(i)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(t){this.gridSize_=t},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(t){this.maxZoom_=t},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(t){this.styles_=t},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(t){this.title_=t},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(t){this.averageCenter_=t},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(t){this.imageExtension_=t},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(t){this.imagePath_=t},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(t){this.imageSizes_=t},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(t){this.calculator_=t},o.prototype.setHideLabel=function(t){this.hideLabel_=t},o.prototype.getHideLabel=function(){return this.hideLabel_},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(t){this.clusterClass_=t},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},o.prototype.addMarkers=function(t,e){var i;for(i in t)t.hasOwnProperty(i)&&this.pushMarkerTo_(t[i]);e||this.redraw_()},o.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},o.prototype.removeMarker=function(t,e,i){var r=!0&&!i,n=this.removeMarker_(t,r);return!e&&n&&this.repaint(),n},o.prototype.removeMarkers=function(t,e,i){var r,n,o=!1,s=!0&&!i;for(r=0;r<t.length;r++)n=this.removeMarker_(t[r],s),o=o||n;return!e&&o&&this.repaint(),o},o.prototype.removeMarker_=function(t,e){var i,r=-1;if(this.markers_.indexOf)r=this.markers_.indexOf(t);else for(i=0;i<this.markers_.length;i++)if(t===this.markers_[i]){r=i;break}return-1===r?!1:(e&&t.setMap(null),this.markers_.splice(r,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var e;for(e=0;e<t.length;e++)t[e].remove()},0)},o.prototype.getExtendedBounds=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),r=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),n=e.fromLatLngToDivPixel(i);n.x+=this.gridSize_,n.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(r);o.x-=this.gridSize_,o.y+=this.gridSize_;var s=e.fromDivPixelToLatLng(n),a=e.fromDivPixelToLatLng(o);return t.extend(s),t.extend(a),t},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(t){var e,i;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)i=this.markers_[e],i.isAdded=!1,t&&i.setMap(null)},o.prototype.distanceBetweenPoints_=function(t,e){var i=6371,r=(e.lat()-t.lat())*Math.PI/180,n=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2),s=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),a=i*s;return a},o.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},o.prototype.addToClosestCluster_=function(t){var e,i,r,o,s=4e4,a=null;for(e=0;e<this.clusters_.length;e++)r=this.clusters_[e],o=r.getCenter(),o&&(i=this.distanceBetweenPoints_(o,t.getPosition()),s>i&&(s=i,a=r));a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(r=new n(this),r.addMarker(t),this.clusters_.push(r))},o.prototype.createClusters_=function(t){var e,i,r,n=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),s=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;s>e;e++)i=this.markers_[e],!i.isAdded&&this.isMarkerInBounds_(i,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){n.createClusters_(s)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_()}},o.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},o.CALCULATOR=function(t,e){for(var i=0,r="",n=t.length.toString(),o=n;0!==o;)o=parseInt(o/10,10),i++;return i=Math.min(i,e),{text:n,index:i,title:r}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.exports=o}]);